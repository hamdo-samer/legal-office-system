# إعداد قاعدة البيانات - نظام إدارة المكتب القانوني

## 1. تشغيل XAMPP

1. قم بتشغيل **XAMPP Control Panel**
2. ابدأ تشغيل **Apache** و **MySQL**
3. تأكد من أن الخدمتين تعملان بشكل صحيح (اللون الأخضر)

## 2. الوصول إلى phpMyAdmin

1. افتح المتصفح واذهب إلى: `http://localhost/phpmyadmin`
2. ستظهر لك واجهة phpMyAdmin

## 3. إنشاء قاعدة البيانات

### الطريقة الأولى: استخدام phpMyAdmin
1. في phpMyAdmin، اضغط على تبويب **SQL**
2. انسخ محتوى ملف `create_database.sql` والصقه في المربع
3. اضغط على **Go** لتنفيذ الأوامر

### الطريقة الثانية: استخدام سطر الأوامر
```bash
# افتح Command Prompt أو Terminal
# انتقل إلى مجلد XAMPP/mysql/bin
cd C:\xampp\mysql\bin

# اتصل بـ MySQL
mysql -u root -p

# قم بتنفيذ ملف إنشاء قاعدة البيانات
source C:\path\to\your\project\legal-office-system\database\create_database.sql
```

## 4. إدراج البيانات التجريبية

1. في phpMyAdmin، تأكد من اختيار قاعدة البيانات `legal_office_system`
2. اذهب إلى تبويب **SQL**
3. انسخ محتوى ملف `sample_data.sql` والصقه
4. اضغط على **Go** لتنفيذ الأوامر

## 5. التحقق من إنشاء الجداول

بعد تنفيذ الأوامر، يجب أن تجد الجداول التالية:

- **users** - المستخدمين (المحامين والموظفين)
- **clients** - العملاء
- **cases** - القضايا
- **court_sessions** - جلسات المحكمة
- **appointments** - المواعيد
- **contracts** - العقود
- **invoices** - الفواتير
- **payments** - المدفوعات
- **documents** - المستندات
- **notifications** - الإشعارات
- **system_settings** - إعدادات النظام

## 6. بيانات الاختبار المتوفرة

### المستخدمين:
- **المحامي أحمد محمد**: `ahmed@legaloffice.com`
- **المحامية فاطمة علي**: `fatima@legaloffice.com`
- **سارة أحمد - موظفة**: `sara@legaloffice.com`

### كلمة المرور لجميع المستخدمين: `password`

### العملاء:
- أحمد محمد علي
- فاطمة علي حسن
- محمد حسن محمود
- سارة أحمد محمد
- خالد محمود السيد

### القضايا:
- 5 قضايا متنوعة (تجارية، مدنية، جنائية، أحوال شخصية، عمالية)
- مع جلسات محكمة ومواعيد مرتبطة

### الفواتير:
- 5 فواتير بحالات مختلفة (معلقة، مدفوعة، متأخرة)
- مع مدفوعات مسجلة

## 7. إعدادات الاتصال

استخدم هذه الإعدادات للاتصال بقاعدة البيانات:

```
Host: localhost
Database: legal_office_system
Username: root
Password: (فارغ في XAMPP الافتراضي)
Port: 3306
```

## 8. ملاحظات مهمة

- تأكد من أن XAMPP يعمل قبل محاولة الاتصال
- قاعدة البيانات تستخدم ترميز UTF-8 لدعم النصوص العربية
- جميع الجداول تحتوي على timestamps للإنشاء والتحديث
- تم إنشاء فهارس لتحسين الأداء
- العلاقات بين الجداول محددة بـ Foreign Keys

## 9. استكشاف الأخطاء

### إذا واجهت خطأ في الاتصال:
1. تأكد من تشغيل MySQL في XAMPP
2. تحقق من إعدادات الاتصال
3. تأكد من وجود قاعدة البيانات

### إذا واجهت مشاكل في الترميز:
1. تأكد من أن قاعدة البيانات تستخدم `utf8mb4_unicode_ci`
2. تحقق من إعدادات الاتصال في التطبيق

## 10. الخطوة التالية

بعد إعداد قاعدة البيانات، يمكنك:
1. ربط التطبيق بقاعدة البيانات
2. إنشاء API endpoints
3. تطوير وظائف CRUD
4. إضافة المصادقة والتفويض
